=== Fetching Proposal: Lack of knowledge ===
Issue URL: https://github.com/golang/go/issues/40720

==== [Issue Title] ====
proposal: log:  wrap testlog.SetLogger() Visible to the public in package log.

==== [Issue Body] ====
<!--
Please answer these questions before submitting your issue. Thanks!
For questions please use one of our forums: https://github.com/golang/go/wiki/Questions
-->

### What version of Go are you using (`go version`)?

<pre>
$ go version
1.15
</pre>

### Does this issue reproduce with the latest release?
yes

### What operating system and processor architecture are you using (`go env`)?

<details><summary><code>go env</code> Output</summary><br><pre>
$ go env
go version go1.15 linux/amd64
</pre></details>

### What did you do?


```go
package log

import (
	"internal/testlog"
)

// SetTestLogger Set log for the testlog
func SetTestLogger(log testlog.Interface)  {
	testlog.SetLogger(log)
}
```


==== [Comments] ====

--- Comment #1 by davecheney ---
@liu-xuewen could you please describe the problem that you would be able to solve if this proposal were accepted.

--- Comment #2 by liu-xuewen ---
> @liu-xuewen could you please describe the problem that you would be able to solve if this proposal were accepted.

Package testlog provides a back-channel communication path between tests and package os, so that wen can see which environment variables and files a test consults. 
However, testlog is not allowed to be used in the internal package. We can use testlog to do some logging to complete the above functions  if this proposal were accepted. The implementation is also very simple.

--- Comment #3 by ianlancetaylor ---
As you say, the testlog is an internal mechanism.  We do not want to expose it for general use.  If other packages start to use it, that will make it impossible to update the internal mechanism.

Can you explain more precisely what it is that you want to do, and why?  At the moment I think it is quite unlikely that this proposal would be accepted.

--- Comment #4 by liu-xuewen ---
I want to do more debug log information about the go process net, such as which files are opened, such as methods os.Open(). Thank you.
Because of the method（ like os.Open ）Logging is implemented internally. It is only useful when testing. I think it is also used in business debugging.

--- Comment #5 by ianlancetaylor ---
If we were going to support more debug logging in the standard library, we would not do it via the internal/testlog mechanism.  That has a specific purpose related to test caching.  It's not for debug logging.

In general debug logging sounds like something that should be implemented as a wrapper around the standard library, not inside the standard library.  But it's true that there are exceptions such as the net/http/httptest package.

--- Comment #6 by liu-xuewen ---
I see what you mean, thank you. Maybe net logging can share a set of underlying testlog methods with testing.

--- Comment #7 by rsc ---
The exact proposal here is unclear. Changing the behavior of internal/testlog would change nothing user-visible.


--- Comment #8 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
— rsc for the proposal review group


--- Comment #9 by rsc ---

Based on the discussion above, this proposal seems like a **[likely decline](https://golang.org/s/proposal-status#likely-decline)**.
— rsc for the proposal review group


--- Comment #10 by rsc ---

No change in consensus, so **[declined](https://golang.org/s/proposal-status#declined)**.
— rsc for the proposal review group

