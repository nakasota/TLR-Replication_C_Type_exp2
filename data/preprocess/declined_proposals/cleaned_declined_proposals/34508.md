==== [Issue Title] ====
proposal: x/tools/go/analysis: add tags or codes to diagnostics

==== [Issue Body] ====
Version 3.15 of the Language Server Protocol will be adding tags to the [Diagnostic](https://microsoft.github.io/language-server-protocol/specifications/specification-3-15/#diagnostic). These will allow us to specify types of diagnostics, in particular unnecessary and deprecated code. To avoid our having to parse diagnostic messages for `gopls`, `go/analysis` should return these details along with diagnostics.

==== [Comments] ====

--- Comment #1 by rsc ---
/cc @matloob @ianthehat 

--- Comment #2 by matloob ---
I'm a bit wary of adding this to the analysis framework because it's specific to the LSP protocol. "unneccessary" and "deprecated" only come from specific analyses right?

If all those analyses are in tools, maybe they can populate a field of a type defined in internal/lsp so we don't need to introduce a new API? Would that work?

--- Comment #3 by ianthehat ---
I was thinking about this before (we need the same thing for severity) and my conclusion was that severity should be per analyzer, not per result, which means gopls can add the tag based on the analyzer that generated the diagnostic rather than having to add it to the analysis framework. I think all analyzers can be consistent about their severity level (and if they can't it is easy to split an analyzer into a core that produces facts and multiple analyzers that use those facts to produce varying severity levels of diagnostic), and I think the same probably holds for tags.

--- Comment #4 by matloob ---
Oh that's even better! Rebecca. What do you think? Is that reasonable?

--- Comment #5 by stamblerre ---
Sounds good to me - thanks!

--- Comment #6 by matloob ---
Okay, I'll close this issue in favor of that solution then.

--- Comment #7 by mvdan ---
Could we document what Ian said in https://github.com/golang/go/issues/34508#issuecomment-611303237? I have a few tools which are already analyzers, and some others which I have to convert still, and this is very relevant for some of them. I vaguely remembered this conversation, but it was hard to find it (or its result) because the godoc makes no mention or hint about analyzer severity.

--- Comment #8 by matloob ---
You mean to add a line to the go/analysis package documentation saying as such, or do you mean documenting it somewhere else?

--- Comment #9 by mvdan ---
Yeah, I did mean `go/analysis` - that's the first documentation page I checked, at least.

--- Comment #10 by gopherbot ---
Change https://golang.org/cl/230312 mentions this issue: `go/analysis: suggest to users how to associate diagnostics with severities`

--- Comment #11 by matloob ---
@mvdan Added a paragraph to the go/analysis docs on golang.org/cl/230312. Want to take a look and see if that works for you?
