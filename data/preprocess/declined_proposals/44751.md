=== Fetching Proposal: Lack of knowledge ===
Issue URL: https://github.com/golang/go/issues/44751

==== [Issue Title] ====
proposal: context: add Scoped

==== [Issue Body] ====
### background
I an effort to defensively shunt off potential background goroutines, I find myself doing this frequently:
```go
func outer(ctx context.Context) {
        ctx, cancel := context.WithCancel(ctx)
        defer cancel()
        x, err := inner(ctx)
        // ...
}
```
### description
It strikes me that an alias of `context.Context` could be implemented such that this gets sugared implicitly:
```go
package context

// Scoped is a Context that is cancelled when the current function returns.
type Scoped = Context
```
```go
func outer (ctx context.Scoped) {
        x, err := inner(ctx)
        // ...        
}
```
### alternatives
Several proposals have spoken to removing or internalising `context.Context` in go2 and making it a first class language primitive. This would likely be prefer to this approach, but none of them went anywhere.

### drawbacks
This is pretty far down the magic rabbit hole, and maybe this is actually an anti-pattern, but `context.Context` is one of the sharpest interfaces I deal with regularly, and this seems to have benefits. If this is an anti pattern, what is the alternative?

As this would be implemented in the runtime, it should not change the language spec. There is no requirement to modify any code, but it would likely turn out to be as viral as `context.Context` was.

==== [Comments] ====

--- Comment #1 by ianlancetaylor ---
It sounds like you are suggesting that the compiler should recognize `context.Scoped` explicitly and treat it differently.  That is, this is a language change.  Currently the compiler doesn't know anything about the context package.  Is that a correct summary?

--- Comment #2 by carnott-snap ---
Yeah, that sounds fair. I was trying to indicate that like garbage collection or unsafe, this would not be a change to the language specification.

--- Comment #3 by rsc ---
It would be extremely unlikely for us to make a language change for a package like context.
Unsafe _is_ in the language spec, and garbage collection is implicitly in the spec by virtue of not specifying any explicit deallocation.
Context is not.

--- Comment #4 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
— rsc for the proposal review group


--- Comment #5 by rsc ---

Based on the discussion above, this proposal seems like a **[likely decline](https://golang.org/s/proposal-status#likely-decline)**.
— rsc for the proposal review group


--- Comment #6 by rsc ---

No change in consensus, so **[declined](https://golang.org/s/proposal-status#declined)**.
— rsc for the proposal review group

