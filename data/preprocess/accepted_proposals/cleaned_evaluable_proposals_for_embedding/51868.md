debug/pe: add api support read comdat info section
propos add addit api "debug/pe" packag
enabl read auxiliari symbol information, specif enabl
extract info comdat sections, need go linker.
## background + motiv
debug/p packag current provid hook read symbol tabl
inform pe object files, notabl "coffsymbols" slice
provid pe' "file" type:
```
  // A File represents an open PE file.
  type File struct {
	FileHeader
	OptionalHeader any // of type *OptionalHeader32 or *OptionalHeader64
	Sections       []*Section
	Symbols        []*Symbol    // COFF symbols with auxiliary symbol records removed
	COFFSymbols    []COFFSymbol // all COFF symbols (including auxiliary symbol records)
	StringTable    StringTable
	closer io.Closer
  }
```
coffsymbol array someth fiction, slice
includ entri "regular" symbols, also entri
file' symbol array correspond aux symbols. regular
symbol aux symbol 18 byte size, format aux
symbol vari depend type regular symbol precedes.
pictur illustrate:
```
   ...
   k+0:  regular sym k
   k+1:    1st aux symbol for k
   k+2:    2nd aux symbol for k
   k+3:  regular sym k+3
   k+4:    1st aux symbol for k+3
   k+5:  regular sym k+5
   k+6:  regular sym k+6
   ...
```
found microsoft pe format documentation.
exist `debug/pe` api list number aux symbol
regular symbol, make possibl skip aux entri iter
main symbol array, way look insid
aux symbols.
one class aux symbol section definit
aux symbol, hold addit bit info symbol
correspond defin section object file.
one part section definit aux symbol materi relat
comdat sections; go linker need abl access comdat
info order support modern clang-bas c toolchain
window (see cl stack

associ issu
## propos detail
propos add new api debug/pe:
```
// Section characteristics flags.
const (
	IMAGE_SCN_CNT_CODE               = 0x00000020
	IMAGE_SCN_CNT_INITIALIZED_DATA   = 0x00000040
	IMAGE_SCN_CNT_UNINITIALIZED_DATA = 0x00000080
	IMAGE_SCN_LNK_COMDAT             = 0x00001000
	IMAGE_SCN_MEM_DISCARDABLE        = 0x02000000
	IMAGE_SCN_MEM_EXECUTE            = 0x20000000
	IMAGE_SCN_MEM_READ               = 0x40000000
	IMAGE_SCN_MEM_WRITE              = 0x80000000
)
// COFFSymbolAuxFormat5 describes the expected form of an aux symbol
// attached to a section definition symbol. The PE format defines a
// number of different aux symbol formats: format 1 for function
// definitions, format 2 for .be and .ef symbols, and so on. Format 5
// holds extra info associated with a section definition, including
// number of relocations + line numbers, as well as COMDAT info. See
// https://docs.microsoft.com/en-us/windows/win32/debug/pe-format#auxiliary-format-5-section-definitions
// for more on what's going on here.
type COFFSymbolAuxFormat5 struct {
	Size           uint32
	NumRelocs      uint16
	NumLineNumbers uint16
	Checksum       uint32
	SecNum         uint16
	Selection      uint8
	_              [3]uint8 // Padding
}
// These constants make up the possible values for the 'Selection'
// field in an AuxFormat5.
const (
	IMAGE_COMDAT_SELECT_NODUPLICATES = 1
	IMAGE_COMDAT_SELECT_ANY          = 2
	IMAGE_COMDAT_SELECT_SAME_SIZE    = 3
	IMAGE_COMDAT_SELECT_EXACT_MATCH  = 4
	IMAGE_COMDAT_SELECT_ASSOCIATIVE  = 5
	IMAGE_COMDAT_SELECT_LARGEST      = 6
)
// COFFSymbolReadSectionDefAux returns a blob of axiliary information
// (including COMDAT info) for a section definition symbol. Here 'idx'
// is the index of a section symbol in the main COFFSymbol array for
// the File. Return value is a pointer to the appropriate aux symbol
// struct. For more info, see:
//
// auxiliary symbols: https://docs.microsoft.com/en-us/windows/win32/debug/pe-format#auxiliary-symbol-records
// COMDAT sections: https://docs.microsoft.com/en-us/windows/win32/debug/pe-format#comdat-sections-object-only
// auxiliary info for section definitions: https://docs.microsoft.com/en-us/windows/win32/debug/pe-format#auxiliary-format-5-section-definitions
//
func (f *File) COFFSymbolReadSectionDefAux(idx int) (*COFFSymbolAuxFormat5, error) {
...
}
```
client discov section definit symbol `image_scn_lnk_comdat` bit set characterist flags, call `coffsymbolreadsectiondefaux` obtain pointer aux info section, allow read info comdat section.
ad propos project discussion, person feel need formal propos add simpl accessor constant debug/* packages.
agree, seem bit heavyweight, follow instruct laid
chang mention issue: `debug/pe: add api read section def aux info`
@thanm
propos lgtm.
thank you.
alex
seem clear enough unobjection enough think move accept. thanks!
chang consensus, **accepted**. ðŸŽ‰
