crypto/dsa: deprec remov crypto/x509 x/crypto/ssh
dsa obsolete, fragile, insecure, mostli unus signatur scheme. propos deprec (but **not** remove) `crypto/dsa` package, recommend modern altern `crypto/ed25519`, drop support dsa key `crypto/x509` `golang.org/x/crypto/ssh` packages.
## problem dsa
first, dsa suffer know design mistake: requir key bring along parameters, instead set global accept ones. paramet slow generate, larg encode, importantli hard validate. caus remot do go 1.13 (cve-2019-17596, #34960) exploit tl ssh.
second, dsa initi standard max key size 1024 bits, univers acknowledg insecur real-world attackers. larger key size standard year later, made sens use dsa new system anymore, system kept use dsa backward compat adopt larger keys. also almost 20 years.
wrote newslett issue.
## dsa x.509
mozilla root store polici reject dsa key x.509 certificates, complet absent webpki, `crypto/x509` targets. anecdotally, also use privat pki awar of. (thi obvious hard assert substantiate.)
`crypto/x509` expos world go applic `crypto/tls`, support dsa liabil term attack surface, prove cve-2019-17596.
also note `crypto/tls` support dsa certificates, alreadi can't use websit certificates, intermedi root cas.
## dsa ssh
openssh' `ssh-keygen` ever support insecur 1024-bit keys. 94% dsa key github 1024-bit. golang.org/x/crypto/ssh packag support 1024-bit keys. dsa use ssh insecure.
reason think remov dsa support actual _help_ compatibility, prefer key type avoid connect failur key size 1024-bit (#23751). openssh 7.0 disabl dsa support 2015. drop dsa support also help align host key observ x/crypto/ssh one openssh `known_hosts` file.
## edit add: nist deprec dsa
dsa specifi fip 186 nist. draft next version specification, fip 186-5, remov text dsa except paragraph state dsa may use verifi exist legaci signatures. risk behind _the fip standards_!
!imag
üëã fellow cryptographi librari maintain who'd like kill dsa.
big ‚ù§Ô∏è go kill this! one less bad crypto system user accident use!
one idea may may interest you, deprec key gener sign differ timelin signatur verification. potenti allow support backward compat use case without make situat worse.
anoth cryptograph librari maintainer, agre deprec good path. exist small set peopl sshing 512-bit dsa key manag switches, variou reason way user solv problem without modern cryptographi librari carri mainten burden secur risk.
ad minut first time week, seem like like accept next week.
reaction discuss clear.
seem like **like accept**.
chang consensus, accepted.
chang mention issue: `crypto/dsa,crypto/x509: deprec dsa remov crypto/x509 support`
crypto/dsa crypto/x509 part landed, x/crypto/ssh left.
chang mention issue: `ssh: remov dsa support`
possibl disabl dsa 1.15.5, check advanc anyth breaks?
@jech way check public key type x.509 certif verifi chain use (a behavior chang crypto/x509). changes, way check breakag would run go 1.16 beta releas candidate.
