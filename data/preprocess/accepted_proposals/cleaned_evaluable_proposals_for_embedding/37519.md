cmd/go: deprec -insecur go get
follow addit `goinsecure` environ variabl #32966, possibl select specif host access insecur fetch dependencies. much neater `-insecure` flag current support `go get` download insecur host.
given `goinsecure` go 1.14, propos remov `-insecure` go get.
#34568 also potenti relevant, presum issu `git_ssl_no_verify` still exist use `goinsecure`.
cc @jayconrod @matloob @filosottil @katiehockman
think probabl need keep `-insecure` around long enough folk start use `goinsecure` (and report work defici it), happi remov `-insecure` point â€” say, go 1.16 (when everi still-support version go toolchain `goinsecure`).
make sens log someth like â€œ-insecur deprec soon, pleas consid use goinsecureâ€ someon use -insecur flag?
also non-modul go get doesnâ€™t support goinsecur - worth back port goinsecur code disappear point?
> make sens log someth like â€œ-insecur deprec soon, pleas consid use goinsecureâ€ someon use -insecur flag?
that' good idea. could start soon go 1.15.
> also non-modul go get doesnâ€™t support goinsecur - worth back port goinsecur code disappear point?
possibl both? hard retrofit `goinsecure` `gopath` mode, hope `gopath` mode disappear _similar_ timefram anyway.
would contribut either / those. chang propos focu featur rather deprecation?
think keep issu focus propos deprecation: probabl warn flag formal deprec it, even decid keep while.
want go ahead send cl `goinsecure` `gopath` mode, get roll independ proposal.
ok great, open propos fine work given itâ€™ provid featur pariti modul mode?
cl fine.
sound like hold goinsecur appli gopath mode, although unclear signific chang gopath mode would worthwhil point. pleas chang back activ appropri consid deprec again.
intend look goinsecur gopath, life whole viru thing get way free time current ðŸ˜‚. iâ€™ll sure let know free time back track!
#38108, @perillo note deprec `-insecure` flag, sure document differ behavior w.r.t. checksum database. `-insecure` today impli `gosumdb=off`, `goinsecure` impli `gonosumdb` modules.
chang mention issue: `cmd/go/internal/modget: improv goinsecur docs`
chang mention issue: `cmd/go/internal/get: add goinsecur support`
goinsecur support gopath mode, sure remov proposal-hold label open back up?
place hold gopath support goinsecure.
does.
peopl think? deprec remov -insecure?
perhap deprec (make work print warning) go 1.16 remov go 1.17?
think make sens deprec `-insecure` flag 1.16 remov 1.17.
chang mention issue: `cmd/go/internal/get: warn -insecur deprecation`
deprec warn merg :). put someth releas note 1.16? process that, pr edit
yep, exactly.
chang mention issue: `cmd/go/internal/get: add -insecur deprec releas notes`
base discuss seem like **like accept**.
(i see code alreadi land might well finish process.)
yes, sorri that! got keen put code chang want miss code freeze.
chang mention issue: `cmd/go/internal/get: improv -insecur deprec docs`
chang consensus, accepted.
(@witchard, code freez anoth month, worth.)
go 1.16 modul blog ( suggest `gopath` mode drop go 1.17. therefore, make sens also drop `go get -insecure` time given flag use modul mode support modul relat command (and henc one reason `goinsecure` first place)? much flux remov `gopath` mode prefer hold off?
think make sens remov `-insecure` go 1.17. expect caus problem remov gopath-mode.
chang mention issue: `cmd/go: remov -insecur flag go get`
