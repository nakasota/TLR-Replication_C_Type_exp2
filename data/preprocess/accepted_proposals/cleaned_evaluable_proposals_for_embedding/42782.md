reflect: add visiblefield function
write code reflect struct type, common requir know full set struct fields, includ field avail due embed anonym member exclud field eras level anoth field name.
logic _that_ complex, littl subtl easi get wrong. propos new function `reflect` (or altern new method `reflect.type`) return full set effect field appli given struct type.
method necessarili need huge performant, common cach result type.
api seem suffici use cases:
```
// VisibleFields returns all the visible fields in t, which must be a
// struct type. A field is defined as visible if it's accessible
// directly with a FieldByName call. The returned fields include fields
// inside anonymous struct members and unexported fields. They follow
// the same order found in the struct, with anonymous fields followed
// immediately by their promoted fields.
//
// For each element e of the returned slice, the corresponding field
// can be retrieved from a value v of type t by calling v.FieldByIndex(e.Index).
func VisibleFields(t Type) []StructField
```
possibl implement here:
function could cours implement extern package, lower level codec packages, ad extern depend undesirable, copy/past reimplement similar code common. function small enough close tie enough core `reflect` logic seem incorpor reasonable.
thank @mvdan @myitcv use earli feedback proposal.
would help point coupl case exist code would use this.
`visiblefields` return `[]structfield` everi call alloc new slice?
exist precedence, `structfield.index` field alway newli alloc copy:

would expect `visiblefields` similar semantics.
@ianlancetaylor grep `\.numfield\(` signific go corpu turn bunch examples.
code seen either omit handl anonym field goe quit lot troubl support
properly. one exampl standard librari could use this: `encoding/binary`,
support anonym field all, perhap would function avail originally.
random exampl packages:
```
github.com/codegangsta/inject
github.com/google/pprof/internal/driver
github.com/BurntSushi/toml
github.com/golang/net/webdav/internal/xml
```
@dsnet think entir thing would alloc time. would slow, care speed, easi use `sync.map` key `reflect.type` preprocess inform anyway.
indeed, seem like alloc new slice everi call. cach reus lead mani bugs, caller cach @rogpepp point out.
overal seem reasonable.
leav minut anoth week visibl still seem reasonable.
base discuss above, seem like **like accept**.
chang mention issue: `reflect: add visiblefield function`
chang consensus, **accepted**. ðŸŽ‰
