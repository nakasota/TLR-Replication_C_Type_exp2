time: add time.compar
current 3 method compar `time.time` objects: `before()`, `equal()` `after()`. analog `<`, `==` `>`. equival `<=` `>=` missing. suggest ad `beforeequal()` `afterequal()` complet this.
fulli awar new method strictli needed: `t.beforeequal(u)` could written either `t.before(u) || t.equal(u)` `!t.after(u)` `t.sub(u) <= 0`. however, three less readabl simpl obviou `t.beforeequal(u)`. written code like
```
for day := begin; /* day <= end */ !day.After(end); day = day.Add(24 * time.Hour) {
```
felt comment need clarifi intent.
implement propos method trivial.
least me, `!t.after( )` look significantli readabl `beforeequal`. "not t" natur way express concept "at moment before". hard justifi increas api surfac add function precis boolean negat exist one.
> least me, `!t.after( )` look significantli readabl `beforeequal`.
really? want write `for` loop `x` go `a` `b`, includ endpoints, would write like
```
for x := a; x <= b; x++ {
```

```
for x := a; !(x>b); x++ {
```
guess would peopl would write first way. realli see suddenli differ `x` `time.time` instead number. least rational proposal.
want write `for` loop `x` go `a` `b` languages, would write range.
languages, rang would interv [`a`, `b+1`), languag use half-open interv ranges.
(to dismay, go yet support rang user-defin types.)
want write `for` loop sequenc day go, would use 3-part loop form. (for me, 3-part loop form almost alway less clear alternative.) instead, would write:
```go
	x := a
	for !x.After(b) {
		â€¦
		x = x.AddDate(0, 0, 1)
	}
```
think form clearer emphas semantics: `x` increas `b`, regardless whether `b` happen integ number day away `a`. (i think use `time.date` repres entir day â€” rather nanosecond â€” awkward even best; compar #19700.)
> guess would peopl would write first way. realli see suddenli differ x time.tim instead number. least rational proposal.
english, anyway, date usual compar use "before" "after" number usual compar use "greater" "less." `<` less-than operator, before-than operator.
> think form clearer emphas semantics: `x` increas `b`
right, `x.beforeequal(b)` also emphas semant way: loop continu long `x` equal `b`. find negat condit `!x.after(b)` slightli harder understand: loop often natur express "while" condit instead "until" condition.
> english, anyway, date usual compar use "before" "after" number usual compar use "greater" "less." < less-than operator, before-than operator.
right, that' matter wording: "before" mean "less". languag oper overloading, would like use `<` both.
point often natur write `x <= y` number (i check go sourc mani exampl `for` loop `<=` condition). equal natur want write "timestamp x equal timestamp y".
propos ad activ column propos project
review weekli propos review meetings.
â€” rsc propos review group
like proposal. get order sens right often tricky, lack method mean often need write express term think it, chang method add negation. might me, find extra negat make harder think correctness, particularli tri concentr detail algorithm.
however, anoth possibl might add `compare` method:
```
// Compare returns -1 if t1 is before t2, 0 if t1 equals t2 or 1 if t1 is after t2.
func (t1 Time) Compare(t2 Time) int
```
fairli easi read (`x.beforeequal(y)` becom `x.compare(y) <= 0`
could addit util advent gener (see example), save comparison use time one compon larger comparison.
consid `time.time` valu nanosecond precision, curiou often differ `time.before` `time.beforeequal` matter practice.
@ianlancetaylor matter surprisingli often experi - example, time might well exactli equal slept valu start with, use `time.now` take item heap use faked-out time source.
> however, anoth possibl might add `compare` method:
sure, that' direct go move to. explicit would also solv use case.
> consid time.tim valu nanosecond precis
@rogpepp mentioned, `time.time` valu "random". might timestamp enter user interfac might timestamp come lower-precis source.
enthusiast ad beforeequ afterequ ad compar seem reason fit place librari defin compare. retitling.
anyon object ad time.compare?
given simpl do, ad implement this.
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
