net/http: add maxbyteserror
### version go use (`go version`)?

$ go version
go version go1.12 darwin/amd64

### issu reproduc latest release?
ye
### oper system processor architectur use (`go env`)?
<details><summary><code>go env</code> output</summary><br>
$ go env
goarch="amd64"
gobin="/users/foo/go/bin"
gocache="/users/foo/library/caches/go-build"
goexe=""
goflags=""
gohostarch="amd64"
gohostos="darwin"
goos="darwin"
gopath="/users/foo/go"
goproxy=""
gorace=""
goroot="/usr/local/cellar/go/1.12/libexec"
gotmpdir=""
gotooldir="/usr/local/cellar/go/1.12/libexec/pkg/tool/darwin_amd64"
gccgo="gccgo"
cc="clang"
cxx="clang++"
cgo_enabled="1"
gomod=""
cgo_cflags="-g -o2"
cgo_cppflags=""
cgo_cxxflags="-g -o2"
cgo_fflags="-g -o2"
cgo_ldflags="-g -o2"
pkg_config="pkg-config"
gogccflags="-fp -m64 -pthread -fno-caret-diagnost -qunused-argu -fmessage-length=0 -fdebug-prefix-map=/var/folders/lf/rbfblwvx6rx3xhm68yksmqjwdv1dsf/t/go-build261266046=/tmp/go-build -gno-record-gcc-switch -fno-common"
</details>
### do?
upon limit maximum request size (bi use `maxbytesreader` want special handl larg request bodi error clean way error type assertion, return custom respons body.
peopl ask feature:
### expect see?
expect net/http `requestbodytoolargeerror` defin return `maxbytesreader` type assert done instead error messag comparison.
### see instead?
trivial error string implement return
similar issu `parsepostform` function:
@rsc least set string constants, current code look ugli stand thing love golang.
`const http.statusrequestentitytoolargemessag = "http: request bodi large"`
@rsc, think issu fell tracker "proposal" tag. tagged? propos accepted, happi file cl.
cc @neild
fwiw, #41493 dupe posit feedback. propos maxbyteread return error type `errormaxbytesexceed struct { maxsiz int64 }` check `errors.as`.
`http.maxbytesreader` defin "similar io.limitreader", "return non-eof error read beyond limit".
wrap incom request bodi `maxbytesreader` recommend way set limit size incom request body. interact element http request process non-obvi ways: example, `(*request).parseform` set 10mib limit size pars form data, except request `body` `maxbytesreader`.
proposal, understand it, return defin error `maxbytesreader` hit read limit.
seem reason me.
`net/http` packag defin one export error type, `http.protocolerror`, deprecated. defin number sentinel error values. sinc creator `maxbytesreader` know maximum size provid it, think provid inform error respons unnecessary, sentinel error. perhaps:
```
// ErrRequestBodyTooLarge is returned after a ReadCloser created by MaxBytesReader reads
// past its limit.
var ErrRequestBodyTooLarge = errors.New("http: request body too large")
```
coupl questions, propos answers:
* `close` return `errrequestbodytoolarge` limit exceeded? current `close` return error case, think should.
* `read` return `errrequestbodytoolarge`, error wrap one? strong opinion here. new package, argu wrapping, given extens use bare sentinel `net/http` think consist argu return unwrap `errrequestbodytoolarge`.
> sinc creator maxbytesread know maximum size provid it, think provid inform error respons unnecessary, sentinel error.
necessarily. want wrap differ handler differ middleware, processimag handler 25mb limit, processus handler 1mb limit, example. want abl write gener error respons middlewar prompt user differ messag differ overages.
instead defin error type, add `http.ismaxbyteserror(err error) (size int)`? error isnâ€™t maxbytesreader, return 0, otherwis return posit number. itâ€™ easier use defin type let us hide implement details.
go gener maxbytesreader, perhap maxbyteserror?
@neild satisfi justif includ number bytes?
errmaxbyt / errrequestbodytoolarge?
propos ad activ column propos project
review weekli propos review meetings.
â€” rsc propos review group
would happi either
```
type MaxBytesError int64
type MaxBytesError struct {
    Limit int64
}
```
struct version extensible, forese need extension, int64 version fine too.
~~a side-effect chang secret requesttoolarg interfac could retired.~~ think would probabl stick around.
ping @neild
realli enthusiast increas `net/http`' api surfac anoth type, `maxbyteserror` seem reasonable. (i'd say wrap io.readclos return `maxbytesreader` type add whatev error want--but there' type assert case `request.body` `*maxbytesreader`, can't actual that).
```
type MaxBytesError struct {
  Limit int64
}
```
think add `http.ismaxbyteserror`; error predic perfectli fine pattern, `net/http` now. type fit exist api better.
struct better `int64`. better alway plan extens rather guess might need it.
mayb defin `maxbyteserror{}` equival `maxbyteserror`, write care size:
```
if errors.Is(err, &http.MaxBytesError{}) { ... }
```
tl;dr, reluctantli favor ad `http.maxbyteserror`.
probabl need special definit end.
use
errors.as(err, new(*http.maxbyteserror)) { ... }
chang mention issue: `net/http: add maxbyteserror`
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
