crypto/x509: add parserevocationlist, deprec parsecrl & parsedercrl
current implement crl crypto/x509 crypto/x509/pkix somewhat confusing, easi misuse, match design rest package. particular expos necessari inform safe issuer verif (see grpc/grpc-go#5130 exampl go wrong.)
could tri provid extra inform requir safe comparisons, unfortun due design `pkix.certificatelist`, intend direct asn.1 analog, possibl add new fields, sinc inher chang `encoding/asn1` encodes/decod relat data.
go1.15 introduc `revocationlist`, type use input `createrevocationlist`. propos introduc `parserevocationlist`, convert `revocationlist` go represent crl, similar `certificate` used. result api much line rest package, would allow us leeway updat repres crl structur without worri direct asn.1 encoding.
sake slowli move away relianc `encoding/asn1`, new `parserevocationlist` function employ `x/crypto/cryptobyte` parser.
would deprec `pkix.certificatelist` type (and associ types), `parsecrl` `parsedercrl` functions, `certificate.checkcrlsignature` method (the latter replac method `revocationlist`.)
```
// Added (crypto/x509)
func ParseRevocationList(der []byte) (*RevocationList, error)
func (rl *RevocationList) CheckSignatureFrom(issuer *Certificate) error
type RevocationList struct {
  ...
  // New fields
  RawIssuer      []byte
  Signature      []byte
  AuthorityKeyId []byte
  Extensions     []pkix.Extension
}
// Deprecated (crypto/x509)
func ParseCRL(crlBytes []byte) (*pkix.CertificateList, error)
func ParseDERCRL(derBytes []byte) (*pkix.CertificateList, error)
func (c *Certificate) CheckCRLSignature(crl *pkix.CertificateList) error
// Deprecated (crypto/x509/pkix)
type CertificateList ...
type TBSCertificateList ...
```
cc @golang/secur
propos ad activ column propos project
review weekli propos review meetings.
â€” rsc propos review group
anyon object api top comment?
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
