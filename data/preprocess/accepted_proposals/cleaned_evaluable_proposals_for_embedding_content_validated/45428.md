crypto/tls: disabl client-sid tl 1.0 tl 1.1
tl 1.0 tl 1.1 legaci version tl signific robust complex issues. use sha-1 handshak support aead cipher suites, mean requir encrypt-then-mac cbc cipher suit vulner side channel attacks. tl 1.0 requir clunki countermeasur attack cbc cipher suites.
tl 1.2 standard 2008. rfc 8996 strongli deprec tl 1.0 tl 1.1. modern browser remov support tl 1.0 tl 1.1 2020. pci complianc requir tl 1.2 sinc 2018. nist guidelin requir tl 1.1 sinc 2014 tl 1.2 sinc 2019.
term real world look like, ssl puls say 0.7% survey site support tl 1.0. websit support tl 1.1 tl 1.2. note data weight popularity. sinc browser remov tl 1.0 tl 1.1 support, connect numbers, significantli lower turndown.
client side landscap bright. use say 98.16% web client support tl 1.2. rememb server-sid connect number littl better, good client-sid numbers.
also gener qualit differ tl 1.0 client tl 1.0 servers. former impli outdat device, expens replace, possibl still serviceable. latter impli catastroph date server safe use must updated.
base this, propos multi-stag plan turn eventu remov tl 1.0 tl 1.1.
**i request approv first stage, go propos process success stage.**
## stage 1
zero, `config.minversion` chang default `versiontls12` client side.
overridden set `config.minversion` (or temporari godebug value).
pre-announc go 1.17, implement go 1.18, remov godebug switch go 1.19.
## stage 2
zero, `config.minversion` chang default `versiontls12` server side.
overridden set `config.minversion` (or temporari godebug value).
pre-announc tbd, implement tbd+1, remov godebug switch tbd+2.
(stage 2, whenev comes, might also good time disabl default tl 1.0-correl ciphersuit like 3des.)
## stage 3
tl 1.0 tl 1.1 turn off.
temporarili overridden set `config.minversion` godebug valu simultaneously.
pre-announc tbd, implement tbd+1, remov godebug switch tl 1.0 tl 1.1 code tbd+2.
(stage 3, whenev comes, might also good time remov off-by-default thing like rc4 3des.)
stage 3 seem like copy-past typo. protocol remov (code yeeted), donâ€™t see could possibl re-en
run-time.
> stage 3 seem like copy-past typo. protocol remov (code yeeted), donâ€™t see could possibl re-en run-time.
code yeet tbd+2, tbd+1 behav remov unless godebug set. differ config.minvers stop working.
> > stage 3 seem like copy-past typo. protocol remov (code yeeted), donâ€™t see could possibl re-en run-time.
>
> code yeet tbd+2, tbd+1 behav remov unless godebug set. differ config.minvers stop working.
ah see, see. make sense. might help clarifi â€œthi temporarili overridden config.minvers godebug value.â€ seem state theyâ€™d keep work transition.
retitl clear propos discuss potenti approv "stage 1".
propos ad activ column propos project
review weekli propos review meetings.
â€” rsc propos review group
like oppos propos - first stage entirety. caveat would ok replac code use extend librari version packag (`golang.org/x`).
data put forward assum publicli visibl servers. privat network mental say "if broken, fix it" creat dramat differ reality. fact still need interfac lot softwar broken crypto (sslv3, tls1.0 etc).
introduct adopt propos would creat big problem - order keep interfac old software, would keep go instal frozen time, bear cost keep fork.
please, reconsid propos - either proceed it, offer extend librari could keep using.
thank @filosottil @rsc
> fact still need interfac lot softwar broken crypto (sslv3, tls1.0 etc).
need sslv3 assum alreadi use fork?
sinc propos approv stage 1, say need connect server support tl 1.2? would impli modern browser connect either, could share kind softwar is? softwar get secur updates? timelin would estim softwar get tl 1.2 support?
> need sslv3 assum alreadi use fork?
case, least deploy run old version code. custom stuck older versions.
> sinc propos approv stage 1, say need connect server support tl 1.2?
correct
> would impli modern browser connect either, could share kind softwar is?
databas protocol softwar ancient deploy remot desktop share software.
> softwar get secur updates? timelin would estim softwar get tl 1.2 support?
believ do. timelin none. because, "if broken, fix it". sad, know.
> > softwar get secur updates? timelin would estim softwar get tl 1.2 support?
>
> believ do. timelin none. because, "if broken, fix it". sad, know.
feel maintain systems, make modern well-run system pay (becaus rememb complex secur cost, way one) system decid perman insecur option, sorry.
anyway, sound like affect chang stage 3. object stage 1? why?
presumably, system insist stick deprec version tl could also stay older version go? get upgrad go benefits, fulli @filosottil keep use case work long time seem like wrong tradeoff.
> object stage 1? why?
depend stage 1 show ups. paramet (`config.minversion` override), fine. adjust behavior env var (like godebug) way harder sell - either ask custom deploy configur chang (tough sell - "it working, want chang it?").
> feel maintain systems, make modern well-run system pay (becaus rememb complex secur cost, way one) system decid perman insecur option, sorry.
agre you, that' suggest keep deprec softwar golang.org/x. perhap make sense? defer you.
> system insist stick deprec version tl could also stay older version go?
tri - work well. long depend decid minimum go version old older old go version need keep around, plu manual back-port go chang (non-crypto changes) old go version. possible, like avoid situation.
> > object stage 1? why?
>
> depend stage 1 show ups. paramet (`config.minversion` override), fine. adjust behavior env var (like godebug) way harder sell - either ask custom deploy configur chang (tough sell - "it working, want chang it?").
stage 1 2 chang default `minversion` value. `godebug` never long term setting, way easili triag failur set someth environ without go around rebuild everyth involved.
edit: clarifi propos stage 1 2 effect chang default `config.minversion`.
> > feel maintain systems, make modern well-run system pay (becaus rememb complex secur cost, way one) system decid perman insecur option, sorry.
>
> agre you, that' suggest keep deprec softwar golang.org/x. perhap make sense? defer you.
unfortun tl stack easi swap out: #21753. would nice make easier someth keep mind plan larger changes. general, also can't maintain fork everyone' custom requirements, would commun project.
> unfortun tl stack easi swap out: #21753. would nice make easier someth keep mind plan larger changes. general, also can't maintain fork everyone' custom requirements, would commun project.
case, thank care @filosottil
> ain't broke, fix
think opportun educ custom cost disast recoveri (or, rather, cost scrimp that).
"it" actual _is_ broken, even may seem kind work now, outdat un-upgrad infrastructur destin break _irreparably_, longer mitig delayed, costlier end up. unless custom count go bankrupt faster someth bad happen, _will_ grit teeth cough fund upgrad sooner later. liken cancer: wonder rare opportun act early(-ish) detection, longer sit knowledg waiting, iffier chanc surviv becomes. talk secur here, all.
@antichri think agre keep system updat import better choice, decis maker organ often read github issues. discuss (or shouldn't) cater custom standard librari topic, discuss error way much :)
@filosottil sure, concur points. meant mayb peopl like you, @ucirello give financi decis maker bit poke time time, reminding, news headlin multi-million-cost secur breach happen fiction parallel universe, harsh realiti set anyone, especi feel complac cut secur spending. mayb execut need person remind friendli secur specialist, headlin real market ploy.
know mani user use 512m memori server run software, xp win 2003, win7 systems, winapi support tls1.2 (win7 support updat patch), server also need retain tls1.2.
oppos modifi `config.minversion`, think old version tl code retain enabled, otherwis servic provid use old version golang server customers, bring greater risk lot inconvenience.
> know mani user use 512m memori server run software, xp win 2003, win7 systems, winapi support tls1.2 (win7 support updat patch), server also need retain tls1.2.
> oppos modifi `config.minversion`, think old version tl code retain enabled, otherwis servic provid use old version golang server customers, bring greater risk lot inconvenience.
let' say programm know flaw implement code, work bank make production, screwed, say remov standard packag mayb add anoth package. (non-standard one) realli want use still option import anoth package.
> > know mani user use 512m memori server run software, xp win 2003, win7 systems, winapi support tls1.2 (win7 support updat patch), server also need retain tls1.2.
> > oppos modifi `config.minversion`, think old version tl code retain enabled, otherwis servic provid use old version golang server customers, bring greater risk lot inconvenience.
>
> let' say programm know flaw implement code, work bank make production, screwed, say remov standard packag mayb add anoth package. (non-standard one) realli want use still option import anoth package.
yeah, long easi way enabl it. fact, `config.minversion` reminder, even rais warn minversion<=tls1.2.
regard move standard library, seem difficult.
> unfortun tl stack easi swap out: #21753. would nice make easier someth keep mind plan larger changes. general, also can't maintain fork everyone' custom requirements, would commun project.

again, issu disabl support connect ancient _servers_.
serv (talk to) ancient _client_ affect issue.
sound like peopl concern disabl default ok set config.minvers opt out.
would less happi godebug, fine well debug purposes.
right?
> sound like peopl concern disabl default ok set config.minvers opt out.
would less happi godebug, fine well debug purposes.
>
> right?
yes. live config.minvers changes. godebug would creat actual problem way harder solv (and probabl involv `func init() + os.setenv()` hack inject chang godebug).
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
