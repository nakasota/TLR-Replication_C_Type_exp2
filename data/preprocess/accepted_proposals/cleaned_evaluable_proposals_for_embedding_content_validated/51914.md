net/http: support 103 statu code
currently, possibl send inform http respons with, example, 103 earli hint 102 process statu codes.
use earli hint propos (partial) altern server push, go remov chrome.
chrome 95 ad experiment support 103 statu code (current behind flag). support implement firefox. fastli googl also run joint experi measur real-lif benefit new statu code.
propos chang api `net/http` allow call `responsewriter.writeheader()` multipl time order send inform respons final one. conform rfc 8297, statu code 103 current content header map also sent. content remov call `writeheader()` header must also includ final response.
also propos ad support 103 respons `net/http/httputil`. suggest introduc new export field, `reverseproxy.forward103responses`, enabl featur (i think forward 103 respons opt-in, may caus compat issu legaci software).
alreadi craft patch implement propos http/1, http/2, http/3. patch http/1 2 review @bradfitz. one http/3 alreadi merg `lucas-clemente/quic-go`.
relat patches:
* http/1:
* http/2:
* http/3 (in `lucas-clemente/quic-go`):
cc @neild @bradfitz
look like chang implement net/http merged, track part go 1.19 release.
http/1
http/2 per seem re-bundl net/http.
leav request support net/http/httputil. right, @dungla ?
exactly. alreadi work patch net/http/httputil. open pr monday.
chang mention issue: `net/http: reverseproxy: forward 1xx responses`
@rhysh bit late last patch
hi @dungla , interest net/http decid goe in. per that' @neild .
apolog familiar already, want make sure know go' releas cycl ( enter go 1.19 releas freez around may 16 ( possibl remain change(s) would need freez exception, wiki page describes. at-golang/releas team would abl clarifi interact freez propos process.
sound like net/http chang alreadi landed, peopl gener favor support 103 statu code. (mayb waited, it.)
far reverseproxy, code fork necessari (unlik net/http), probabl wait one.
go mark "like accept" cover net/http changes, appear minut case anyon object 103 support go 1.19.
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
