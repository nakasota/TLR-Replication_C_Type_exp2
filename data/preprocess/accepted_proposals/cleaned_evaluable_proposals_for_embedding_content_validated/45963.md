cmd/go: add test -vet=al sentinel
### background
current `off` sentinel use turn vet testing, unfortun lack "vet checks" option mean either need curat (potenti non exhaustive) list call `go test` `go vet`. former suffer sync issu releas may add remov flag could break builds. latter perform issu larg [rect monorepo] build lot sourc parsed.
### summari
would think defin `-vet=all` enabl vet checks, like `go vet` does, easy, backward compatible, terribl controversial.
### altern
could instead expand test run vet check default sinc aggress enabl vet produc true positives.
name `all` may confus ever disabl vet added, like `shadow`, read docs, seem like move purg ineffect vets. name could clear includ `full`, `default`, `most`, bikesh later.
fair describ propos basic make `go test -vet=al ...` effect synonym `go vet ...; go test ...` (or someth similar)?
also larg uptick folks[/tools] replac `go test` `go test -vet=all`, ad new checker would break everyone' tests. divis test must pass vet must clean reason distinct ci systems. ad flag would margin encourag folk combin two together. otoh ci system "go vet ...; go test ..." anyway convenient?
> latter perform issu larg [rect monorepo] build lot sourc parsed.
would issu `go vet ...; go test ...` `go test -vet=al ...`? could imagin differ wallclock time via improv parallelism, know user time would differ much. would assum amount pars example.
> enabl vet produc true positives.
true posit rate exist checker high. 100% though.
> name may confus ever disabl vet added, like shadow, read docs, seem like move purg ineffect vets.
concern would whether continu true move forward. ad checker initi disabl folk tri enabl later lower barrier entry.
implement note: printf current enabl go test. fact enabled. expect see huge chang perform caus make `go test -vet=all` enabl facts.
agre ad "go vet -all" option vet handy, "go test -vet=all" less convincing. one main issu checker enabl default shadowvari checker may high fals posit rates, combin "go test" "go vet" fals posit fail tests.
"go test" use high-confid checkers:
"a part build test binary, go test run go vet packag test sourc file identifi signific problems. go vet
find problems, go test report run test binary. high-confid subset default go vet check used."
option "go vet -checker=all" look better me.
> agre ad "go vet -all" option vet handi
clear, would nop today? would someth differ ad disabl default vet like shadowvariable.
> one main issu checker enabl default shadowvari checker may high fals posit rates, combin "go test" "go vet" fals posit fail tests.
feel comfort say part community, included, want test failur feature, understand default may best call.
> option "go vet -checker=all" look better me.
would also run tests? otherwis differ `go vet` today, meet "one pars ast vet test" requir above.
use `-all`. `go tool vet help` say deprecated. someon want look history?
propos ad activ column propos project
review weekli propos review meetings.
â€” rsc propos review group
still pend someon look old -all becam no-op.
look introduc chang `cmd/vet: switch x/tools/go/analysi implementation`. relev file.
flag look might mimick flag cmd/vet/all/main.go. guess.
cmd/vet/al delet 86463c rsc@.
sure `-all` flag chang behavior though.
still need figur _why_ -all remov before.
alright, took longer expected. appear ad exclus backward compat old vet flag `unitchecker.main` via `analysisflags.parse` 8e5aba0a364076a2c2450d665be0796cca1de6d9. (cc @alandonovan / @adonovan):
```
Author: Alan Donovan <adonovan@google.com>
Date:   Fri Nov 16 13:36:49 2018 -0500
    go/analysis: harmonize flags across all checkers
    The -json and -c=N flags, formerly belonging only to the
    go/packages-based {single,multi}checkers, are now supported by
    unitchecker as well.
    The no-op -source, -v, -all, and -tags flags, formerly belonging only
    to unitchecker, have moved to the analysisflags package, which is
    common to all checkers.
    The -flags flag now reports all registered flags (except the
    {single,multi}checker-only debugging flags) rather than just those
    related to analyzers, allowing one to say: 'go vet -json' or 'go vet -c=1'.
    The code for printing diagnostics, either plain or in JSON, has been
    factored and moved into the common analysisflags package.
    This CL depends on https://go-review.googlesource.com/c/go/+/149960 to
    cmd/go, which causes 'go vet' to populate the ID field of the *.cfg.
    This field is used as a key in the JSON tree.
    Added basic tests of the new -json and -c unitchecker flags.
    Change-Id: Ia7a3a9adc86de067de060732d2c200c58be3945a
    Reviewed-on: https://go-review.googlesource.com/c/150038
    Reviewed-by: Michael Matloob <matloob@golang.org>
```
manual confirmed:
```go
package main
import "golang.org/x/tools/go/analysis/unitchecker"
func main() { unitchecker.Main() }
```
```
main is a tool for static analysis of Go programs.
main examines Go source code and reports suspicious constructs,
such as Printf calls whose arguments do not align with the format
string. It uses heuristics that do not guarantee all reports are
genuine problems, but it can find errors not caught by the compilers.
Registered analyzers:
By default all analyzers are run.
To select specific analyzers, use the -NAME flag for each one,
 or -NAME=false to run all analyzers not explicitly disabled.
Core flags:
  -V	print version and exit
  -all
    	no effect (deprecated)
  -c int
    	display offending line with this many lines of context (default -1)
  -flags
    	print analyzer flags in JSON
  -json
    	emit JSON output
  -source
    	no effect (deprecated)
  -tags string
    	no effect (deprecated)
  -v	no effect (deprecated)
To see details and flags of a specific analyzer, run 'main help name'.
```
ok, sound like histori go vet -all default, turn ask anyth specifically, like go vet -asmdecl. part fix #7422 (go vet -composite=fals turn singl check) chang way flag handl made -all no-op. sinc "all" default, realli matter flag no-op.
"go test" use smaller test-saf subset. long term want merg "all" yet. provid would let peopl say 'go test -vet=all' get check plain 'go vet'. seem reasonable.
base discuss above, propos seem like **like accept**.
â€” rsc propos review group
chang consensus, **accepted**. ðŸŽ‰
