=== Fetching Proposal: MDU6SXNzdWU0OTk5OTA0NzU= ===
Issue URL: https://github.com/golang/go/issues/34601

==== [Issue Title] ====
x/website: add dark (night) theme

==== [Issue Body] ====
Please read https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme

I can do it if you approve me.

==== [Comments] ====

--- Comment #1 by agnivade ---
@andybons 

--- Comment #2 by andybons ---
This is a substantial amount of work. In design, implementation, and testing. We would not want to force dark mode users to only see the dark mode version, so weâ€™d want a toggle.

@vitaly-zdanevich when you say you can do it, which parts are you planning to do? 

--- Comment #3 by vitaly-zdanevich ---
@andybons it looks like not difficult task for me, and I believe that this is important accessibility feature. I hope that I can do all parts of it. So, if you approve it, and you think that we need explicit toggle also - maybe we can start with this toggle design. What is the appropriate position? At the bottom of every page? At the top? In some preferences screen?

--- Comment #4 by vitaly-zdanevich ---
In "Material" style, with label `Dark theme` at the left? Maybe not blue but gray.

![toggle](https://user-images.githubusercontent.com/3514015/65948164-5fef3f00-e442-11e9-9496-89480b2decb4.png)

Or maybe as a link, where text will be `Dark mode off` and `Dark mode on`:
![image](https://user-images.githubusercontent.com/3514015/65948505-12270680-e443-11e9-849d-ef736063667a.png)



--- Comment #5 by jayschwa ---
> We would not want to force dark mode users to only see the dark mode version, so weâ€™d want a toggle.

If the user doesn't want to see dark mode, they can change the setting in their user agent or operating system. Adding a toggle on the website seems redundant.

--- Comment #6 by andybons ---
@jayschwa I disagree. Itâ€™s not clear what user expectations are across the web with regard to this.

--- Comment #7 by vitaly-zdanevich ---
White theme is default on macOS and Firefox - if user manually changed it to dark - maybe he will not like to see that most of websites still white.

Screenshot from Firefox under Ubuntu:
![Screenshot_2019-10-01_20-27-06](https://user-images.githubusercontent.com/3514015/65985126-dd8a6d80-e489-11e9-90fa-2f4fe847d052.png)


--- Comment #8 by vitaly-zdanevich ---
Also Chromium from 73 became dark automatically if user switch dark mode inside operating system.

--- Comment #9 by andybons ---
Dark mode, as a feature on the web, is very new. As I said above, we donâ€™t have a thorough understanding of user expectations yet. I donâ€™t think we can entertain this without a toggle.

--- Comment #10 by vitaly-zdanevich ---
Ok, so - I do not know your rules how you make decisions. We need to wait for other members to vote? For me this is not important - with or without toggle, I can implement both variants.

--- Comment #11 by ALTree ---
Before deciding about the toggle, shouldn't we decide whether we want a dark mode at all?

I've read https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme, but nothing there says every website must have a dark mode. So why it's a given that we want one?


--- Comment #12 by vitaly-zdanevich ---
We need dark mode for two reasons:

1) Because of sensitive eyes phenomena. For many people (including me) it is hurts to stairs at toxic WHITE. Especially at night, low-light conditions.

2) Save the battery.

Android 10 also have system wide dark theme [for the same reasons](https://developer.android.com/guide/topics/ui/look-and-feel/darktheme). I remember that in this year (or in 2018, I do not remember) Google at Android conference said that this is recommended to have optional dark theme for every app.

And with this new `prefers-color-scheme` - if user agent says that he prefers dark mode - why we should ignore that?

--- Comment #13 by StefMa ---
On Android most apps have their own settings like
* Dark mode on
* Dark mode off
* System defaults

Would this be an option for a website as well? So instead of a toggle implementing a spinner?

The default one should then respect the operation defaults (or browser defaults) - not sure about the specification ðŸ˜…. 

--- Comment #14 by rsc ---
What if we just make the web site gray on gray? Then it will work equally well in both modes.


--- Comment #15 by rsc ---
More seriously, it seems like the web as a whole needs to figure out what the expectation is for default-white web sites (which is most of them, right?). In general we have a lot of web design work that goes into the pages, so it's not like we can just make up some hex codes and add a switch. Having two modes doubles the design work and adds complexity. 

Let's wait on doing anything on this until more sites have figured out what to do. For example, google.com is still white in dark mode. If that changes, then I'd be more inclined to look into what golang.org should do.


--- Comment #16 by StefMa ---
Just going to leave this here:
https://twitter.com/pbakaus/status/1189057074925191168?s=09

Don't be that web site ðŸ˜‰

On Wed, Oct 9, 2019, 7:35 PM Russ Cox <notifications@github.com> wrote:

> More seriously, it seems like the web as a whole needs to figure out what
> the expectation is for default-white web sites (which is most of them,
> right?). In general we have a lot of web design work that goes into the
> pages, so it's not like we can just make up some hex codes and add a
> switch. Having two modes doubles the design work and adds complexity.
>
> Let's wait on doing anything on this until more sites have figured out
> what to do. For example, google.com is still white in dark mode. If that
> changes, then I'd be more inclined to look into what golang.org should do.
>
> â€”
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/golang/go/issues/34601?email_source=notifications&email_token=ACOBQ65434LHEQORH4KRURDQNYI7RA5CNFSM4I3USUDKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEAYV7PI#issuecomment-540106685>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ACOBQ62UMEW4O3U3P2K72O3QNYI7RANCNFSM4I3USUDA>
> .
>


--- Comment #17 by vitaly-zdanevich ---
[My pull request to gobyexample.com](https://github.com/mmcgrana/gobyexample/pull/297) with optional dark theme through prefers-color-scheme.

--- Comment #18 by vitaly-zdanevich ---
[Google testing dark mode](https://9to5google.com/2021/01/29/google-search-dark-mode-web/) 

--- Comment #19 by vitaly-zdanevich ---
Wow, I got official dark theme for Google!

![image](https://user-images.githubusercontent.com/3514015/118164059-55bd6100-b42b-11eb-9551-11bcec0bb73b.png)


--- Comment #20 by seankhliao ---
@vitaly-zdanevich please keep this issue on topic

--- Comment #21 by gopherbot ---
Change https://go.dev/cl/384874 mentions this issue: `_content: add dark mode styles`

--- Comment #22 by gopherbot ---
Change https://go.dev/cl/391536 mentions this issue: `_content: add dark theme toggle`

--- Comment #23 by gopherbot ---
Change https://go.dev/cl/391535 mentions this issue: `_content/css: improve contrast for playground and dark theme elements`

--- Comment #24 by gopherbot ---
Change https://go.dev/cl/391517 mentions this issue: `static/frontend: share color scheme preference across go.dev domains`

--- Comment #25 by gopherbot ---
Change https://go.dev/cl/392479 mentions this issue: `_content/css: fix image background color in dark mode`

--- Comment #26 by ianlancetaylor ---
It's almost 2 1/2 years later, taking off hold for reconsideration.

--- Comment #27 by rsc ---
The web team has looked into this as part of a larger redesign and has the work pending. I don't think this needs further discussion.


--- Comment #28 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #29 by rsc ---

No change in consensus, so **[accepted](https://golang.org/s/proposal-status#accepted)**. ðŸŽ‰
This issue now tracks the work of implementing the proposal.
â€” rsc for the proposal review group


--- Comment #30 by jamalc ---
Try out the dark theme today on go.dev. We'll leave this issue open for minor issues discovered post launch.
