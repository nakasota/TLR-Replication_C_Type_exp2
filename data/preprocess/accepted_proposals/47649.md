=== Fetching Proposal: MDU6SXNzdWU5NjcxMDQzMzE= ===
Issue URL: https://github.com/golang/go/issues/47649

==== [Issue Title] ====
maps: new package to provide generic map functions

==== [Issue Body] ====
### Discussed in https://github.com/golang/go/discussions/47330

```Go
// Package maps defines various functions useful with maps of any type.
package maps

// Keys returns the keys of the map m.
// The keys will be an indeterminate order.
func Keys[M constraints.Map[K, V], K comparable, V any](m M) []K

// Values returns the values of the map m.
// The values will be in an indeterminate order.
func Values[M constraints.Map[K, V], K comparable, V any](m M) []V

// Equal reports whether two maps contain the same key/value pairs.
// Values are compared using ==.
func Equal[M1, M2 constraints.Map[K, V], K, V comparable](m1 M1, m2 M2) bool

// EqualFunc is like Equal, but compares values using cmp.
// Keys are still compared with ==.
func EqualFunc[M1 constraints.Map[K, V1], M2 constraints.Map[K, V2], K comparable, V1, V2 any](m1 m1, m2 M2, cmp func(V1, V2) bool) bool

// Clear removes all entries from m, leaving it empty.
func Clear[M constraints.Map[K, V], K comparable, V any](m M)

// Clone returns a copy of m.  This is a shallow clone:
// the new keys and values are set using ordinary assignment.
func Clone[M constraints.Map[K, V], K comparable, V any](m M) M

// Copy copies all key/value pairs in src adding them to dst.
// When a key in src is already present in dst,
// the value in dst will be overwritten by the value associated
// with the key in src.
func Copy[M constraints.Map[K, V], K comparable, V any](dst, src M)

// DeleteFunc deletes any key/value pairs from m for which del returns true.
func DeleteFunc[M constraints.Map[K, V], K comparable, V any](m M, del func(K, V) bool)
```


==== [Comments] ====

--- Comment #1 by hherman1 ---
These look pretty good to me, I only really paused over the Keys and Values functions: how often are these used where you wouldnâ€™t be better served by a for range loop? 

--- Comment #2 by ianlancetaylor ---
I think that `Keys` and `Values` would be used quite a lot.  For example, `Keys` is naturally used when removing duplicate elements from a slice.

```Go
func RemoveDuplicates(s []someType) []someType {
    m := make(map[someType]bool)
    for _, v := range s {
        m[v] = true
    }
    return maps.Keys(m)
```

--- Comment #3 by tusharsingh ---
Instead of Add have you considered that Copy may be clearer? Copy implies copying from a src to dst and overwriting values.

--- Comment #4 by pcman312 ---
`Add` is a bit unclear in my opinion because it makes it sound like you're adding an individual entry (or entries). What about `Merge` instead?

--- Comment #5 by ianlancetaylor ---
It would be best if discussion about this proposal continues on the existing discussion at #47330.  Decisions made there will be reflected here.  I'm going to lock this issue temporarily.  Thanks.

--- Comment #6 by rsc ---
Discussion on #47330 seems to have converged. I've copied the latest API into the top comment on this issue. Any comments should still be made on #47330, not here.


--- Comment #7 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #8 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
â€” rsc for the proposal review group


--- Comment #9 by rsc ---
We've discussed and agreed to change DeleteIf to DeleteFunc to better match other APIs we have.


--- Comment #10 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #11 by rsc ---
Still some discussion on #47330 but it seems to be converging.


--- Comment #12 by rsc ---
Converged to using constraints.Map consistently.


--- Comment #13 by rsc ---

No change in consensus, so **[accepted](https://golang.org/s/proposal-status#accepted)**. ðŸŽ‰
This issue now tracks the work of implementing the proposal.
â€” rsc for the proposal review group


--- Comment #14 by gopherbot ---
Change https://golang.org/cl/364875 mentions this issue: `maps: new package`

--- Comment #15 by ianlancetaylor ---
This package is now available at golang.org/x/exp/maps. Per https://groups.google.com/g/golang-dev/c/iuB22_G9Kbo/m/7B1jd1I3BQAJ?utm_medium=email&utm_source=footer it will not be put into standard library until the 1.19 release. We may of course adjust it based on anything we learn about having it in x/exp.

--- Comment #16 by ianlancetaylor ---
I've opened #57436 to propose moving x/exp/maps into the standard library.  Closing this proposal as completed.
