=== Fetching Proposal: MDU6SXNzdWU4NzY2NjU3OTM= ===
Issue URL: https://github.com/golang/go/issues/45973

==== [Issue Title] ====
net/http: add AllowQuerySemicolons [freeze exception]

==== [Issue Body] ====
Over in https://github.com/golang/go/issues/25192#issuecomment-830102902, @AGWA makes the suggestion to add to net/http a standard Handler wrapper to allow semicolons for people who want to opt into that. The function would be something like:

```
func AllowQuerySemicolons(h http.Handler) http.Handler {
        return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
                if r.URL.RawQuery != "" {
                        r2 := new(http.Request)
                        *r2 = *r
                        r2.URL = new(url.URL)
                        *r2.URL = *r.URL
                        r2.URL.RawQuery = strings.ReplaceAll(r.URL.RawQuery, ";", "&")
                        h.ServeHTTP(w, r2)
                } else {
                        h.ServeHTTP(w, r)
                }
        })
}
```

It seems like a nice way to reduce the pain of the semicolon change itself in #25192. We should consider adding it for Go 1.17 (even though we are in the freeze).

==== [Comments] ====

--- Comment #1 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
â€” rsc for the proposal review group


--- Comment #2 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #3 by rsc ---

No change in consensus, so **[accepted](https://golang.org/s/proposal-status#accepted)**. ðŸŽ‰
This issue now tracks the work of implementing the proposal.
â€” rsc for the proposal review group


--- Comment #4 by dmitshur ---
Thank you for making this freeze exception request. It is approved.

--- Comment #5 by gopherbot ---
Change https://golang.org/cl/326309 mentions this issue: `net/http: add AllowQuerySemicolons`
