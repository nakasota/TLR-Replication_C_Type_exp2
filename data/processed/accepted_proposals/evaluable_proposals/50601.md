=== Fetching Proposal: I_kwDOAWBuf85Bs3Hl ===
Issue URL: https://github.com/golang/go/issues/50601

==== [Issue Title] ====
encoding/binary: add AppendByteOrder

==== [Issue Body] ====
A common operation when dealing with binary wire formats is the need to append a fixed-width integer.

Currently, a common way to do it is with:
```go
var arr [4]byte
binary.LittleEndian.PutUint32(arr[:], val)
out = append(out, arr[:]...)
```

This takes 3 lines and cannot be done as a expression.

I propose the addition of a new interface:
```go
type AppendableByteOrder interface {
	AppendUint16([]byte, uint16) []byte
	AppendUint32([]byte, uint32) []byte
	AppendUint64([]byte, uint64) []byte
	String() string
}
```
And that we document that `LittleEndian` and `BigEndian` both implement `ByteOrder` and `AppendableByteOrder`.

Thus, the lines above can be simplified as:
```go
out = binary.LittleEndian.AppendUint32(out, val)
```

In my work with various binary wire formats (e.g., tar, protobuf, etc.), an API like this would be more convenient than the existing `PutUintX` APIs.

The `AppendableByteOrder ` interface exists primarily for documentation purposes. It is not strictly needed.

\cc @josharian

==== [Comments] ====

--- Comment #1 by seankhliao ---
I assume those should be `AppendUint16([]byte, uint16) []byte` etc

--- Comment #2 by dsnet ---
> I assume those should be AppendUint16([]byte, uint16) []byte etc

Correct. Thank you for catching that. Fixed in the original proposal.

--- Comment #3 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
â€” rsc for the proposal review group


--- Comment #4 by rsc ---
Recently we've been doing things like ReadFileFS for FS with a ReadFile method.
How about `type AppendByteOrder`?
The -able seems out of place in Go.

Otherwise seems reasonable, and it's nice that LittleEndian and BigEndian have unexported types so we can add the methods and use them directly.


--- Comment #5 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #6 by rsc ---

No change in consensus, so **[accepted](https://golang.org/s/proposal-status#accepted)**. ðŸŽ‰
This issue now tracks the work of implementing the proposal.
â€” rsc for the proposal review group


--- Comment #7 by gopherbot ---
Change https://go.dev/cl/386017 mentions this issue: `binary: add AppendByteOrder`

--- Comment #8 by gopherbot ---
Change https://go.dev/cl/389636 mentions this issue: `api: update next.txt`
