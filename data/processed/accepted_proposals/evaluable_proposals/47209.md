=== Fetching Proposal: MDU6SXNzdWU5NDQ4MjU1NDE= ===
Issue URL: https://github.com/golang/go/issues/47209

==== [Issue Title] ====
path/filepath: add SkipAll

==== [Issue Body] ====
This is a re-opening of https://github.com/golang/go/issues/43760, since the original author closed it - seemingly for their perception that there was no interest. The proposed API is small, the issue had six upvote reactions at the time of closing, and I personally think it's a good idea too, so I'm reopening here.

Since it's possible to delete GitHub comments or entire threads, I've made a waybackmachine copy as of today: https://web.archive.org/web/20210714212659/https://github.com/golang/go/issues/43760

In summary: Right now we have `filepath.SkipDir` for skipping an entire directory while walking via `filepath.Walk`, but nothing for stopping the walk entirely. It's possible to accomplish that by returning a custom error and ignoring it from the `filepath.Walk` error return, but that's a bit clunky. It would be nice to simply use `StopWalk`, and have `Walk` return a nil error when it's stopped that way.

The original issue was a proposal, but I don't think this is complex or controversial enough to need the process. I also think waiting to be selected for proposal review might have been what caused the confusion around the lack of interest.

cc @89z @ianlancetaylor @josharian 
cc @robpike @rsc as per https://dev.golang.org/owners

==== [Comments] ====

--- Comment #1 by mvdan ---
Sure, I won't mention you again.

--- Comment #2 by mvdan ---
Upon closer inspection, it does look like some replies in the other thread from the original author were deleted, so it almost looks like Ian and me were talking to ourselves. They don't affect the proposed API at all, though, since they were just talking about why the issue hadn't gotten a resolution yet.

--- Comment #3 by mvdan ---
@cherrymui any particular reason you turned this into a proposal? I particularly wanted to avoid the red tape of waiting for the proposal review committee to pick this up :)

--- Comment #4 by cherrymui ---
The original issue is a proposal and I'm not sure why this is not. I though all new APIs are  proposals?

If you don't think this is a proposal, feel free to modify. Thanks.


--- Comment #5 by mvdan ---
See this bit from the top of this thread:

> The original issue was a proposal, but I don't think this is complex or controversial enough to need the process. I also think waiting to be selected for proposal review might have been what caused the confusion around the lack of interest.

I seem to recall Russ has said that the proposal review committee only needs to be looped in if a feature/API request isn't getting attention from the owners of the package. I guess there's no harm in making it a proposal, since both owners are likely busy.

--- Comment #6 by rsc ---
All new public API should go through the proposal process. Feel free to ping us if something urgent is not being picked up. Thanks.

--- Comment #7 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
â€” rsc for the proposal review group


--- Comment #8 by rsc ---
Should it be StopWalk or use the same Skip prefix that SkipDir does, like SkipAll? 

--- Comment #9 by rsc ---
/cc @robpike 

--- Comment #10 by robpike ---
SkipAll is more consistent, StopWalk is more clear. Either is fine.

--- Comment #11 by frioux ---
I'd vote StopWalk

--- Comment #12 by deefdragon ---
I feel StopWalk is the better choice.

SkipAll implies to me that it still scans/reads everything, but just doesn't do the callback, whereas StopWalk implies a full stop.

--- Comment #13 by rogpeppe ---
On balance my vote is for `SkipAll`. Just as we can assume that `SkipDir` avoids scanning of the directory contents, it seems reasonable to assume that `SkipAll` wouldn't do any more scanning at all.

Also:
- it means it will always sit next to the other error value in the docs
- the similarity in name implies a kinship of functionality (both are sentinel values interpreted by Walk)


--- Comment #14 by rsc ---
SkipAll it is.


--- Comment #15 by rsc ---

Based on the discussion above, this proposal seems like a **[likely accept](https://golang.org/s/proposal-status#likely-accept)**.
â€” rsc for the proposal review group


--- Comment #16 by rsc ---

No change in consensus, so **[accepted](https://golang.org/s/proposal-status#accepted)**. ðŸŽ‰
This issue now tracks the work of implementing the proposal.
â€” rsc for the proposal review group


--- Comment #17 by gopherbot ---
Change https://golang.org/cl/363814 mentions this issue: `path/filepath, io/fs: add SkipAll`
