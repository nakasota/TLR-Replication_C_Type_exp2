=== Fetching Proposal: Lack of knowledge ===
Issue URL: https://github.com/golang/go/issues/48639

==== [Issue Title] ====
proposal: errors: change New to return a type that implements Is

==== [Issue Body] ====
### What version of Go are you using (`go version`)?

<pre>
$ go version
go version go1.17.1 darwin/amd64
</pre>

### Does this issue reproduce with the latest release?
Yes

### What did you do?

<!--
If possible, provide a recipe for reproducing the error.
A complete runnable program is good.
A link on play.golang.org is best.
-->

The issue arrises when trying to compare errors that have not be cached as part of the library.

```golang
if errros.New("foo") != errors.New("foo") {
   // Always executes branch as per the contract of errors.New
}

// Using go 1.13+ error handling
if errors.Is(errors.New("foo"), errors.New("foo")) {
   // Never executed even though they would appear to be the same error
}
```

### What did you expect to see?
In order to keep compatibility with the existing contract provided by the errors package, I would expect the following:

```golang
if errors.New("foo") == errors.New("foo") {
  t.Errorf("Different allocation must not be equal")
}

if !errors.Is(errors.New("foo"), errors.New("foo") {
  t.Errorf("Errors made of the same message must be considered the same error")
}
```

### What did you see instead?

Currently errors.New does not implement a means to compare the internally stored error message and requires libraries to define Errs as global variables that can be reassigned at runtime if not careful. 


==== [Comments] ====

--- Comment #1 by ericlagergren ---
`errors.New` intentionally returns unique `error`s. My “foo” and your “foo” might have different meanings, and so the `errors` package would be wrong to declare them as equal. 

As you noted, the idiomatic way to compare errors is to use a package-level variable or a custom `error` type.

--- Comment #2 by D-sense ---
Hi @MovieStoreGuy, the detail provided by @ericlagergren is sufficient, I believe. You may want to use this approach: https://play.golang.org/p/VYXRW5Bp2Qr

--- Comment #3 by MovieStoreGuy ---
With a heavy sigh I agree with you @ericlagergren, my frustration when those errors that would be important to capture and match aren't exposed in a means that is easy to do so (beyond string matching which is a different kettle of fish).

I really should argue for better practices in this libraries than trying to hack the src so to speak.

--- Comment #4 by rsc ---

This proposal has been **[declined as retracted](https://golang.org/s/proposal-status#declined-as-retracted)**.
— rsc for the proposal review group

