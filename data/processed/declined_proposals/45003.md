=== Fetching Proposal: Limited use cases ===
Issue URL: https://github.com/golang/go/issues/45003

==== [Issue Title] ====
proposal: strings: add ReplaceBetween function

==== [Issue Body] ====
`ReplaceBetween(s, start, end, replace string, n int) string`

ReplaceBetween will find all  (**non-overlapping**) substrings beginning with `start` (token) and ending with `end` and replace all characters in-between (inclusive of `start` and `end`) with `replace` string.

==== [Comments] ====

--- Comment #1 by mdlayher ---
Why does this belong in the standard library? See https://golang.org/doc/faq#x_in_std.

--- Comment #2 by pjebs ---
The criteria is super vague and it seems to really depend on what side of the bed 3 key Go people wake up on in the morning, so I don't know how to answer it.

1. It's useful.
2. And it's not as simple to implement properly for the _average_ programmer, so code in the wild is likely to be subpar/unreliable even if people think they are well implemented.
3. Implementing it well would make use of some currently unexported functions in the strings package already used in the implementation of  similar exported functions.
3. There are already some functions in the strings package that you can make the same argument for, but were included.

--- Comment #3 by ianlancetaylor ---
A key argument for something like this is not "it's useful"--everything that is proposed is useful, nobody proposes anything useless--but rather "here are several examples of existing real code that would benefit from this."  Thanks.

--- Comment #4 by DeedleFake ---
Why can this not just be done with regular expressions?

--- Comment #5 by pjebs ---
regex: 
* too slow
* too powerful
* harder to setup and use for quick small things
* and less accessible to people - especially newbies.

--- Comment #6 by DeedleFake ---
I think regular expressions makes _way_ more sense as a general case for this. If that's not fast enough for your specific use case, implement it manually. This seems extremely specific for something to be included in the standard library.

--- Comment #7 by pjebs ---
In terms of existing examples, quickly and efficiently converting all html tags come to mind:

`<i>some-text</i> => <strong>some-other-text</strong>`

My actual use-case is merely to remove all content between a start and different end token. 

This proposal is more general to be more useful.

--- Comment #8 by atdiar ---
I actually want this if this enable me to implement string interpolation without conflicts.
And I never use regular expressions, just because I am a minimalist in terms of language and regexp are a whole other language that I do not speak fluently. 

--- Comment #9 by atdiar ---
Actually I think I misunderstood.

The OP's request should be easily doable using just strings.Replace.

This does not even really fit my use-case for string interpolation.

--- Comment #10 by rsc ---

This proposal has been added to the [active column](https://golang.org/s/proposal-status#active) of the proposals project
and will now be reviewed at the weekly proposal review meetings.
— rsc for the proposal review group


--- Comment #11 by rsc ---
@pjebs for an example of how to justify a new routine, see #40135. 
If there are no examples of this functionality needed in the standard library or some other large body of code, that's a bad sign.
In the absence of evidence like that, this is headed for a likely decline.


--- Comment #12 by rsc ---

Based on the discussion above, this proposal seems like a **[likely decline](https://golang.org/s/proposal-status#likely-decline)**.
— rsc for the proposal review group

